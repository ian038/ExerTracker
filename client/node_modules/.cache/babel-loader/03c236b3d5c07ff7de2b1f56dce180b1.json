{"remainingRequest":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\src\\router.js","dependencies":[{"path":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\src\\router.js","mtime":1590000159433},{"path":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IENyZWF0ZUV4ZXJjaXNlcyBmcm9tICcuL2NvbXBvbmVudHMvQ3JlYXRlRXhlcmNpc2VzLnZ1ZSc7CmltcG9ydCBTaWduVXAgZnJvbSAnLi9jb21wb25lbnRzL1NpZ25VcC52dWUnOwppbXBvcnQgU2lnbkluIGZyb20gJy4vY29tcG9uZW50cy9TaWduSW4udnVlJzsKaW1wb3J0IEVkaXRFeGVyY2lzZXMgZnJvbSAnLi9jb21wb25lbnRzL0VkaXRFeGVyY2lzZXMudnVlJzsKaW1wb3J0IEV4ZXJjaXNlc0xpc3QgZnJvbSAnLi9jb21wb25lbnRzL0V4ZXJjaXNlc0xpc3QudnVlJzsKaW1wb3J0IExhbmRpbmcgZnJvbSAnLi9jb21wb25lbnRzL0xhbmRpbmcudnVlJzsKVnVlLnVzZShSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgY29tcG9uZW50OiBMYW5kaW5nCn0sIHsKICBwYXRoOiAnL3NpZ25pbicsCiAgY29tcG9uZW50OiBTaWduSW4sCiAgbWV0YTogewogICAgZ3Vlc3Q6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL3NpZ251cCcsCiAgY29tcG9uZW50OiBTaWduVXAsCiAgbWV0YTogewogICAgZ3Vlc3Q6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL2hvbWUnLAogIGNvbXBvbmVudDogRXhlcmNpc2VzTGlzdCwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL2VkaXQvOmlkJywKICBjb21wb25lbnQ6IEVkaXRFeGVyY2lzZXMsCiAgbWV0YTogewogICAgcmVxdWlyZXNBdXRoOiB0cnVlCiAgfQp9LCB7CiAgcGF0aDogJy9jcmVhdGUnLAogIGNvbXBvbmVudDogQ3JlYXRlRXhlcmNpc2VzLAogIG1ldGE6IHsKICAgIHJlcXVpcmVzQXV0aDogdHJ1ZQogIH0KfV07CnZhciByb3V0ZXIgPSBuZXcgUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgcmV0dXJuIHJlY29yZC5tZXRhLnJlcXVpcmVzQXV0aDsKICB9KSkgewogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSA9PSBudWxsKSB7CiAgICAgIG5leHQoewogICAgICAgIHBhdGg6ICcvc2lnbmluJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIG5leHRVcmw6IHRvLmZ1bGxQYXRoCiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9IGVsc2UgaWYgKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICByZXR1cm4gcmVjb3JkLm1ldGEucmVxdWlyZXNBdXRoOwogIH0pKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpID09IG51bGwpIHsKICAgICAgbmV4dCgpOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCh7CiAgICAgICAgcGF0aDogJy9ob21lJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIG5leHRVcmw6IHRvLmZ1bGxQYXRoCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["C:/Users/Dell/Projects/PersonalWork/exercise_tracker/client/src/router.js"],"names":["Vue","Router","CreateExercises","SignUp","SignIn","EditExercises","ExercisesList","Landing","use","routes","path","component","meta","guest","requiresAuth","router","mode","beforeEach","to","from","next","matched","some","record","localStorage","getItem","params","nextUrl","fullPath"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAEA,OAAOC,eAAP,MAA4B,kCAA5B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AACA,OAAOC,OAAP,MAAoB,0BAApB;AAEAP,GAAG,CAACQ,GAAJ,CAAQP,MAAR;AAEA,IAAMQ,MAAM,GAAG,CACX;AAAEC,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,SAAS,EAAEJ;AAAxB,CADW,EAEX;AAAEG,EAAAA,IAAI,EAAE,SAAR;AAAmBC,EAAAA,SAAS,EAAEP,MAA9B;AAAsCQ,EAAAA,IAAI,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAA5C,CAFW,EAGX;AAAEH,EAAAA,IAAI,EAAE,SAAR;AAAmBC,EAAAA,SAAS,EAAER,MAA9B;AAAsCS,EAAAA,IAAI,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAA5C,CAHW,EAIX;AAAEH,EAAAA,IAAI,EAAE,OAAR;AAAiBC,EAAAA,SAAS,EAAEL,aAA5B;AAA2CM,EAAAA,IAAI,EAAE;AAAEE,IAAAA,YAAY,EAAE;AAAhB;AAAjD,CAJW,EAKX;AAAEJ,EAAAA,IAAI,EAAE,WAAR;AAAqBC,EAAAA,SAAS,EAAEN,aAAhC;AAA+CO,EAAAA,IAAI,EAAE;AAAEE,IAAAA,YAAY,EAAE;AAAhB;AAArD,CALW,EAMX;AAAEJ,EAAAA,IAAI,EAAE,SAAR;AAAmBC,EAAAA,SAAS,EAAET,eAA9B;AAA+CU,EAAAA,IAAI,EAAE;AAAEE,IAAAA,YAAY,EAAE;AAAhB;AAArD,CANW,CAAf;AASA,IAAMC,MAAM,GAAG,IAAId,MAAJ,CAAW;AACtBe,EAAAA,IAAI,EAAE,SADgB;AAEtBP,EAAAA,MAAM,EAANA;AAFsB,CAAX,CAAf;AAKAM,MAAM,CAACE,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAGF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACX,IAAP,CAAYE,YAAhB;AAAA,GAAtB,CAAH,EAAwD;AACpD,QAAGU,YAAY,CAACC,OAAb,CAAqB,KAArB,KAA+B,IAAlC,EAAwC;AACpCL,MAAAA,IAAI,CAAC;AACDV,QAAAA,IAAI,EAAE,SADL;AAEDgB,QAAAA,MAAM,EAAE;AAAEC,UAAAA,OAAO,EAAET,EAAE,CAACU;AAAd;AAFP,OAAD,CAAJ;AAIH,KALD,MAKO;AACHR,MAAAA,IAAI;AACP;AACJ,GATD,MASO,IAAGF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACX,IAAP,CAAYE,YAAhB;AAAA,GAAtB,CAAH,EAAwD;AAC3D,QAAGU,YAAY,CAACC,OAAb,CAAqB,KAArB,KAA+B,IAAlC,EAAwC;AACpCL,MAAAA,IAAI;AACP,KAFD,MAEO;AACHA,MAAAA,IAAI,CAAC;AACDV,QAAAA,IAAI,EAAE,OADL;AAEDgB,QAAAA,MAAM,EAAE;AAAEC,UAAAA,OAAO,EAAET,EAAE,CAACU;AAAd;AAFP,OAAD,CAAJ;AAIH;AACJ,GATM,MASA;AACHR,IAAAA,IAAI;AACP;AACJ,CAtBD;AAyBA,eAAeL,MAAf","sourcesContent":["import Vue from 'vue';\r\nimport Router from 'vue-router';\r\n\r\nimport CreateExercises from './components/CreateExercises.vue';\r\nimport SignUp from './components/SignUp.vue';\r\nimport SignIn from './components/SignIn.vue';\r\nimport EditExercises from './components/EditExercises.vue';\r\nimport ExercisesList from './components/ExercisesList.vue';\r\nimport Landing from './components/Landing.vue';\r\n\r\nVue.use(Router);\r\n\r\nconst routes = [\r\n    { path: '/', component: Landing },\r\n    { path: '/signin', component: SignIn, meta: { guest: true } },\r\n    { path: '/signup', component: SignUp, meta: { guest: true } },\r\n    { path: '/home', component: ExercisesList, meta: { requiresAuth: true } },\r\n    { path: '/edit/:id', component: EditExercises, meta: { requiresAuth: true } },\r\n    { path: '/create', component: CreateExercises, meta: { requiresAuth: true } }\r\n]\r\n\r\nconst router = new Router({\r\n    mode: 'history',\r\n    routes\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    if(to.matched.some(record => record.meta.requiresAuth)) {\r\n        if(localStorage.getItem('jwt') == null) {\r\n            next({\r\n                path: '/signin',\r\n                params: { nextUrl: to.fullPath }\r\n            })\r\n        } else {\r\n            next()\r\n        }\r\n    } else if(to.matched.some(record => record.meta.requiresAuth)) {\r\n        if(localStorage.getItem('jwt') == null) {\r\n            next()\r\n        } else {\r\n            next({\r\n                path: '/home',\r\n                params: { nextUrl: to.fullPath }\r\n            })\r\n        }\r\n    } else {\r\n        next()\r\n    }\r\n})\r\n\r\n\r\nexport default router\r\n"]}]}