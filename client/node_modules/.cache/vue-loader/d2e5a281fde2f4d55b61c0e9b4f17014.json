{"remainingRequest":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\src\\components\\EditExercises.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\src\\components\\EditExercises.vue","mtime":1589832083659},{"path":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YTogdm0gPT4gew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIHVzZXJuYW1lOicnLCB1c2VybmFtZVJ1bGVzOiBbdiA9PiAhIXYgfHwgJ1VzZXJuYW1lIGlzIHJlcXVpcmVkJ10sDQogICAgICAgICAgZGVzY3JpcHRpb246JycsIGRlc2NyaXB0aW9uUnVsZXM6IFt2ID0+ICEhdiB8fCAnRGVzY3JpcHRpb24gaXMgcmVxdWlyZWQnXSwNCiAgICAgICAgICBkdXJhdGlvbjowLCBkdXJhdGlvblJ1bGVzOiBbdiA9PiAhIXYgfHwgJ0R1cmF0aW9uIGlzIHJlcXVpcmVkJ10sDQogICAgICAgICAgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksDQogICAgICAgICAgZGF0ZUZvcm1hdHRlZDogdm0uZm9ybWF0RGF0ZShuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSksDQogICAgICAgICAgbG9hZGluZzogZmFsc2UNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgIGZvcm1hdHRlZERhdGUgKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSkNCiAgICAgIH0sDQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgZGF0ZSAoKSB7DQogICAgICAgIHRoaXMuZGF0ZUZvcm1hdHRlZCA9IHRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUpDQogICAgICB9LA0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBTdWJtaXQoZSkgew0KICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpDQoNCiAgICAgICAgICAgIGlmKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7DQogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIGNvbnN0IGV4ZXJjaXNlID0gew0KICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwNCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sDQogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uLA0KICAgICAgICAgICAgICAgICAgICBkYXRlOiB0aGlzLmRhdGUNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29uc3QgYXV0aCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpKQ0KICAgICAgICAgICAgICAgIGNvbnN0IHsgdXNlciwgdG9rZW4gfSA9IGF1dGguZGF0YQ0KDQogICAgICAgICAgICAgICAgYXhpb3Moew0KICAgICAgICAgICAgICAgICAgbWV0aG9kOiAncHV0JywNCiAgICAgICAgICAgICAgICAgIHVybDogYGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvZXhlcmNpc2UvdXBkYXRlLyR7dXNlci5pZH0vJHt0aGlzLiRyb3V0ZS5wYXJhbXMuaWR9YCwNCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnKi8qJywNCiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWANCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICBkYXRhOiBleGVyY2lzZQ0KICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgIGlmKHJlcykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWUnKQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGZvcm1hdERhdGUgKGRhdGUpIHsNCiAgICAgICAgaWYgKCFkYXRlKSByZXR1cm4gbnVsbA0KDQogICAgICAgIGNvbnN0IFt5ZWFyLCBtb250aCwgZGF5XSA9IGRhdGUuc3BsaXQoJy0nKQ0KICAgICAgICByZXR1cm4gYCR7bW9udGh9LyR7ZGF5fS8ke3llYXJ9YA0KICAgICAgfSwNCiAgICAgIHBhcnNlRGF0ZSAoZGF0ZSkgew0KICAgICAgICBpZiAoIWRhdGUpIHJldHVybiBudWxsDQoNCiAgICAgICAgY29uc3QgW21vbnRoLCBkYXksIHllYXJdID0gZGF0ZS5zcGxpdCgnLycpDQogICAgICAgIHJldHVybiBgJHt5ZWFyfS0ke21vbnRoLnBhZFN0YXJ0KDIsICcwJyl9LSR7ZGF5LnBhZFN0YXJ0KDIsICcwJyl9YA0KICAgICAgfSwNCiAgICB9DQp9DQo="},{"version":3,"sources":["EditExercises.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"EditExercises.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-card class=\"mx-auto\" max-width=\"800px\">\r\n      <v-card-title>Edit exercise log</v-card-title>\r\n      <v-form ref=\"form\" lazy-validation class=\"px-3\">\r\n        <v-text-field v-model=\"username\" label=\"Username\" :rules=\"usernameRules\"></v-text-field>\r\n        <v-text-field v-model=\"description\" label=\"Description\" :rules=\"descriptionRules\"></v-text-field>\r\n        <v-text-field v-model=\"duration\" label=\"Duration (in minutes)\" :rules=\"durationRules\"></v-text-field>\r\n        <v-menu\r\n          transition=\"scale-transition\"\r\n          offset-y\r\n          max-width=\"290px\"\r\n          min-width=\"290px\"\r\n        >\r\n          <template v-slot:activator=\"{ on }\">\r\n            <v-text-field\r\n              v-model=\"dateFormatted\"\r\n              label=\"Date\"\r\n              hint=\"MM/DD/YYYY format\"\r\n              persistent-hint\r\n              @blur=\"date = parseDate(dateFormatted)\"\r\n              v-on=\"on\"\r\n            ></v-text-field>\r\n          </template>\r\n          <v-date-picker v-model=\"date\" no-title></v-date-picker>\r\n        </v-menu>\r\n          <v-btn outlined color=\"indigo\" class=\"mx-0 mt-3 mb-3\" @click=\"Submit\" :loading=\"loading\">Edit exercise</v-btn>\r\n    </v-form>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    data: vm => {\r\n        return {\r\n          username:'', usernameRules: [v => !!v || 'Username is required'],\r\n          description:'', descriptionRules: [v => !!v || 'Description is required'],\r\n          duration:0, durationRules: [v => !!v || 'Duration is required'],\r\n          date: new Date().toISOString().substr(0, 10),\r\n          dateFormatted: vm.formatDate(new Date().toISOString().substr(0, 10)),\r\n          loading: false\r\n        }\r\n    },\r\n    computed: {\r\n      formattedDate () {\r\n        return this.formatDate(this.date)\r\n      },\r\n    },\r\n    watch: {\r\n      date () {\r\n        this.dateFormatted = this.formatDate(this.date)\r\n      },\r\n    },\r\n    methods: {\r\n        Submit(e) {\r\n            e.preventDefault()\r\n\r\n            if(this.$refs.form.validate() && typeof window !== 'undefined') {\r\n                this.loading = true\r\n                const exercise = {\r\n                    username: this.username,\r\n                    description: this.description,\r\n                    duration: this.duration,\r\n                    date: this.date\r\n                }\r\n                const auth = JSON.parse(localStorage.getItem('jwt'))\r\n                const { user, token } = auth.data\r\n\r\n                axios({\r\n                  method: 'put',\r\n                  url: `http://localhost:5000/api/exercise/update/${user.id}/${this.$route.params.id}`,\r\n                  headers: {\r\n                    Accept: '*/*',\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Bearer ${token}`\r\n                  },\r\n                  data: exercise\r\n                }).then(res => {\r\n                  if(res) {\r\n                    this.$router.push('/home')\r\n                  }\r\n                })\r\n            }\r\n        },\r\n        formatDate (date) {\r\n        if (!date) return null\r\n\r\n        const [year, month, day] = date.split('-')\r\n        return `${month}/${day}/${year}`\r\n      },\r\n      parseDate (date) {\r\n        if (!date) return null\r\n\r\n        const [month, day, year] = date.split('/')\r\n        return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`\r\n      },\r\n    }\r\n}\r\n</script>"]}]}