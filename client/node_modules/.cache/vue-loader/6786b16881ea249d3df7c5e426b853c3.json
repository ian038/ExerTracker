{"remainingRequest":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\src\\components\\CreateExercises.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\src\\components\\CreateExercises.vue","mtime":1589834339395},{"path":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Dell\\Projects\\PersonalWork\\exercise_tracker\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KaW1wb3J0IERhc2hib2FyZCBmcm9tICcuL0Rhc2hib2FyZCc7DQoNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgRGFzaGJvYXJkDQogIH0sDQogICAgZGF0YTogdm0gPT4gew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgdXNlcm5hbWU6ICcnLA0KICAgICAgICAgICAgdXNlcm5hbWVSdWxlczogWw0KICAgICAgICAgICAgICAgIHYgPT4gISF2IHx8ICdVc2VybmFtZSBpcyByZXF1aXJlZCcNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsDQogICAgICAgICAgICBkZXNjcmlwdGlvblJ1bGVzOiBbDQogICAgICAgICAgICAgICAgdiA9PiAhIXYgfHwgJ0Rlc2NyaXB0aW9uIGlzIHJlcXVpcmVkJw0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGR1cmF0aW9uOiAwLA0KICAgICAgICAgICAgZHVyYXRpb25SdWxlczogWw0KICAgICAgICAgICAgICAgIHYgPT4gISF2IHx8ICdEdXJhdGlvbiBpcyByZXF1aXJlZCcNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwNCiAgICAgICAgICAgIGRhdGVGb3JtYXR0ZWQ6IHZtLmZvcm1hdERhdGUobmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCkpLA0KICAgICAgICAgICAgbG9hZGluZzogZmFsc2UNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgIGZvcm1hdHRlZERhdGUgKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSkNCiAgICAgIH0sDQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgZGF0ZSAoKSB7DQogICAgICAgIHRoaXMuZGF0ZUZvcm1hdHRlZCA9IHRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUpDQogICAgICB9LA0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBTdWJtaXQoZSkgew0KICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KDQogICAgICAgICAgICBpZih0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgew0KICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgICAgICAgICAgICBjb25zdCBleGVyY2lzZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsDQogICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLA0KICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbiwNCiAgICAgICAgICAgICAgICAgICAgZGF0ZTogdGhpcy5kYXRlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNvbnN0IGF1dGggPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSkNCiAgICAgICAgICAgICAgICBjb25zdCB7IHVzZXIsIHRva2VuIH0gPSBhdXRoLmRhdGENCg0KICAgICAgICAgICAgICAgIGF4aW9zKHsNCiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLA0KICAgICAgICAgICAgICAgICAgdXJsOiBgaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9leGVyY2lzZS9jcmVhdGUvJHt1c2VyLmlkfWAsDQogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJyovKicsDQogICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgZGF0YTogZXhlcmNpc2UNCiAgICAgICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICBpZihyZXMpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9ob21lJykNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBmb3JtYXREYXRlIChkYXRlKSB7DQogICAgICAgIGlmICghZGF0ZSkgcmV0dXJuIG51bGwNCg0KICAgICAgICBjb25zdCBbeWVhciwgbW9udGgsIGRheV0gPSBkYXRlLnNwbGl0KCctJykNCiAgICAgICAgcmV0dXJuIGAke21vbnRofS8ke2RheX0vJHt5ZWFyfWANCiAgICAgIH0sDQogICAgICBwYXJzZURhdGUgKGRhdGUpIHsNCiAgICAgICAgaWYgKCFkYXRlKSByZXR1cm4gbnVsbA0KDQogICAgICAgIGNvbnN0IFttb250aCwgZGF5LCB5ZWFyXSA9IGRhdGUuc3BsaXQoJy8nKQ0KICAgICAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aC5wYWRTdGFydCgyLCAnMCcpfS0ke2RheS5wYWRTdGFydCgyLCAnMCcpfWANCiAgICAgIH0sDQogICAgfQ0KfQ0K"},{"version":3,"sources":["CreateExercises.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"CreateExercises.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-app>\r\n    <Dashboard />\r\n    <v-container>\r\n      <v-card class=\"mx-auto\" max-width=\"600px\">\r\n      <v-card-title>Create new exercise log</v-card-title>\r\n      <v-form ref=\"form\" lazy-validation class=\"px-3\">\r\n        <v-text-field v-model=\"username\" label=\"Username\" :rules=\"usernameRules\"></v-text-field>\r\n        <v-text-field v-model=\"description\" label=\"Description\" :rules=\"descriptionRules\"></v-text-field>\r\n        <v-text-field v-model=\"duration\" label=\"Duration (in minutes)\" :rules=\"durationRules\"></v-text-field>\r\n        <v-menu\r\n          transition=\"scale-transition\"\r\n          offset-y\r\n          max-width=\"290px\"\r\n          min-width=\"290px\"\r\n        >\r\n          <template v-slot:activator=\"{ on }\">\r\n            <v-text-field\r\n              v-model=\"dateFormatted\"\r\n              label=\"Date\"\r\n              hint=\"MM/DD/YYYY format\"\r\n              persistent-hint\r\n              @blur=\"date = parseDate(dateFormatted)\"\r\n              v-on=\"on\"\r\n            ></v-text-field>\r\n          </template>\r\n          <v-date-picker v-model=\"date\" no-title></v-date-picker>\r\n        </v-menu>\r\n        <v-btn outlined color=\"indigo\" class=\"mx-0 mt-3 mb-3\" @click=\"Submit\" :loading=\"loading\">Submit</v-btn>\r\n    </v-form>\r\n  </v-card>\r\n    </v-container>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport Dashboard from './Dashboard';\r\n\r\n\r\nexport default {\r\n  components: {\r\n    Dashboard\r\n  },\r\n    data: vm => {\r\n        return {\r\n            username: '',\r\n            usernameRules: [\r\n                v => !!v || 'Username is required'\r\n            ],\r\n            description: '',\r\n            descriptionRules: [\r\n                v => !!v || 'Description is required'\r\n            ],\r\n            duration: 0,\r\n            durationRules: [\r\n                v => !!v || 'Duration is required'\r\n            ],\r\n            date: new Date().toISOString().substr(0, 10),\r\n            dateFormatted: vm.formatDate(new Date().toISOString().substr(0, 10)),\r\n            loading: false\r\n        }\r\n    },\r\n    computed: {\r\n      formattedDate () {\r\n        return this.formatDate(this.date)\r\n      },\r\n    },\r\n    watch: {\r\n      date () {\r\n        this.dateFormatted = this.formatDate(this.date)\r\n      },\r\n    },\r\n    methods: {\r\n        Submit(e) {\r\n            e.preventDefault();\r\n\r\n            if(this.$refs.form.validate() && typeof window !== 'undefined') {\r\n                this.loading = true\r\n                const exercise = {\r\n                    username: this.username,\r\n                    description: this.description,\r\n                    duration: this.duration,\r\n                    date: this.date\r\n                }\r\n                const auth = JSON.parse(localStorage.getItem('jwt'))\r\n                const { user, token } = auth.data\r\n\r\n                axios({\r\n                  method: 'post',\r\n                  url: `http://localhost:5000/api/exercise/create/${user.id}`,\r\n                  headers: {\r\n                    Accept: '*/*',\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Bearer ${token}`\r\n                  },\r\n                  data: exercise\r\n                }).then(res => {\r\n                  if(res) {\r\n                    this.$router.push('/home')\r\n                  }\r\n                })\r\n            }\r\n        },\r\n        formatDate (date) {\r\n        if (!date) return null\r\n\r\n        const [year, month, day] = date.split('-')\r\n        return `${month}/${day}/${year}`\r\n      },\r\n      parseDate (date) {\r\n        if (!date) return null\r\n\r\n        const [month, day, year] = date.split('/')\r\n        return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`\r\n      },\r\n    }\r\n}\r\n</script>"]}]}